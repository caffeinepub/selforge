{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "App that pulls and formats nutrition data from user-entered food items (e.g., restaurant menu items).",
  "architectural_notes": [
    "Current nutrition lookup relies on ChatGPT-generated data; consider adding an external data/search integration for higher accuracy and reliable retrieval of branded/menu items."
  ],
  "known_issues": [
    "Entering specific menu items (e.g., '2 KFC veg zinger burger') does not fetch nutrition data; app falls back to asking ChatGPT for everything instead of retrieving actual nutrition facts."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-update-the-free-text-meal-parsing-so-inputs-like-2-kfc-veg-zinger-burger-are-parsed-as-a-single-food-item-with-the-full-name-including-multi-word-restaurant-menu-items-and-a-sensible-default-portion-estimate-for-items-like-burgers-per-piece-instead-of-truncating-to-2-3-words-or-assuming-unrealistic-grams",
      "title": "Update the free-text meal parsing so inputs like \"2 kfc veg zinger burger\" are parsed as a single food item with the full name (including multi-word restaurant/menu items) and a sensible default portion estimate for items like burgers (per piece) instead of truncating to 2â€“3 words or assuming unrealistic grams.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-new-nutrition-lookup-step-that-uses-a-google-like-web-search-api-google-custom-search-json-api-to-find-nutrition-facts-for-restaurant-menu-items-when-open-food-facts-does-not-return-a-match-and-use-that-result-before-falling-back-to-ai-estimation-or-local-defaults",
      "title": "Add a new nutrition lookup step that uses a Google-like web search API (Google Custom Search JSON API) to find nutrition facts for restaurant/menu items when Open Food Facts does not return a match, and use that result before falling back to AI estimation or local defaults.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-extract-usable-nutrition-numbers-at-minimum-calories-protein-sugar-when-available-from-web-search-results-e-g-result-snippet-text-with-robust-unit-aware-heuristics-kcal-calories-grams-and-scale-results-according-to-the-parsed-quantity-portion",
      "title": "Extract usable nutrition numbers (at minimum calories; protein/sugar when available) from web-search results (e.g., result snippet text) with robust, unit-aware heuristics (kcal/calories, grams), and scale results according to the parsed quantity/portion.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-quick-log-description-results-ui-to-clearly-indicate-when-nutrition-came-from-web-search-vs-open-food-facts-vs-ai-vs-estimation-using-english-labels-so-the-user-can-see-that-menu-items-are-being-fetched-from-an-external-source-rather-than-asking-chatgpt-for-everything",
      "title": "Update the Quick Log (Description) results UI to clearly indicate when nutrition came from web search vs Open Food Facts vs AI vs estimation, using English labels, so the user can see that menu items are being fetched from an external source rather than \"asking ChatGPT for everything\".",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Integrate an external source (e.g., Google/search API) to fetch nutrition data for specific menu items like '2 KFC veg zinger burger' instead of relying only on ChatGPT.",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Improve restaurant menu nutrition fetching (Google-like search) for free-text meal inputs",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}